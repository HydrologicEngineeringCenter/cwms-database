
  CREATE TABLE "CWMS_20"."AT_BASE_LOCATION" 
   (	"BASE_LOCATION_CODE" NUMBER, 
	"DB_OFFICE_CODE" NUMBER NOT NULL ENABLE, 
	"BASE_LOCATION_ID" VARCHAR2(16) NOT NULL ENABLE, 
	"ACTIVE_FLAG" VARCHAR2(1), 
	 CONSTRAINT "AT_BASE_LOCATION_CK_1" CHECK (TRIM("BASE_LOCATION_ID")="BASE_LOCATION_ID") ENABLE, 
	 CONSTRAINT "AT_BASE_LOCATION_PK" PRIMARY KEY ("BASE_LOCATION_CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA"  ENABLE, 
	 CONSTRAINT "AT_BASE_LOCATION_FK1" FOREIGN KEY ("DB_OFFICE_CODE")
	  REFERENCES "CWMS_20"."CWMS_OFFICE" ("OFFICE_CODE") ENABLE
   ) PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20AT_DATA" 
 
  CREATE UNIQUE INDEX "CWMS_20"."AT_BASE_LOCATION_PK" ON "CWMS_20"."AT_BASE_LOCATION" ("BASE_LOCATION_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA" 
 
  CREATE UNIQUE INDEX "CWMS_20"."AT_BASE_LOCATION_IDX1" ON "CWMS_20"."AT_BASE_LOCATION" ("DB_OFFICE_CODE", UPPER("BASE_LOCATION_ID")) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA" 
 
  CREATE OR REPLACE TRIGGER "CWMS_20"."AT_BASE_LOCATION_T01" 
    AFTER UPDATE OF active_flag, base_location_id
    ON at_base_location
    REFERENCING NEW AS new OLD AS old
    FOR EACH ROW
DECLARE
BEGIN
    cwms_ts_id.touched_abl (:new.db_office_code,
                                    :new.base_location_code,
                                    :new.active_flag,
                                    :new.base_location_id
                                  );
EXCEPTION
    WHEN OTHERS
    THEN
        -- Consider logging the error and then re-raise
        RAISE;
END at_base_location_t01;
ALTER TRIGGER "CWMS_20"."AT_BASE_LOCATION_T01" ENABLE
 