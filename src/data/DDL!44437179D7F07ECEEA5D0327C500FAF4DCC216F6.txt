
  CREATE TABLE "CWMS_20"."AT_PARAMETER" 
   (	"PARAMETER_CODE" NUMBER, 
	"DB_OFFICE_CODE" NUMBER NOT NULL ENABLE, 
	"BASE_PARAMETER_CODE" NUMBER NOT NULL ENABLE, 
	"SUB_PARAMETER_ID" VARCHAR2(32), 
	"SUB_PARAMETER_DESC" VARCHAR2(80), 
	 CONSTRAINT "AT_PARAMETER_PK" PRIMARY KEY ("PARAMETER_CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA"  ENABLE, 
	 CONSTRAINT "AT_PARAMETER_UK1" UNIQUE ("BASE_PARAMETER_CODE", "SUB_PARAMETER_ID", "DB_OFFICE_CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA"  ENABLE, 
	 CONSTRAINT "AT_PARAMETER_CK_1" CHECK (TRIM(SUB_PARAMETER_ID)=SUB_PARAMETER_ID) ENABLE, 
	 CONSTRAINT "AT_PARAMETER_FK1" FOREIGN KEY ("DB_OFFICE_CODE")
	  REFERENCES "CWMS_20"."CWMS_OFFICE" ("OFFICE_CODE") ENABLE, 
	 CONSTRAINT "AT_PARAMETER_FK2" FOREIGN KEY ("BASE_PARAMETER_CODE")
	  REFERENCES "CWMS_20"."CWMS_BASE_PARAMETER" ("BASE_PARAMETER_CODE") ENABLE
   ) PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA" 
 
  CREATE UNIQUE INDEX "CWMS_20"."AT_PARAMETER_PK" ON "CWMS_20"."AT_PARAMETER" ("PARAMETER_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA" 
 
  CREATE UNIQUE INDEX "CWMS_20"."AT_PARAMETER_UK1" ON "CWMS_20"."AT_PARAMETER" ("BASE_PARAMETER_CODE", "SUB_PARAMETER_ID", "DB_OFFICE_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "CWMS_20DATA" 
 
  CREATE OR REPLACE TRIGGER "CWMS_20"."AT_PARAMETER_T01" 
    AFTER UPDATE OF sub_parameter_id
    ON at_parameter
    REFERENCING NEW AS new OLD AS old
    FOR EACH ROW
DECLARE
BEGIN
    cwms_ts_id.touched_api (:new.parameter_code,
                                    :new.base_parameter_code,
                                    :new.sub_parameter_id
                                  );
EXCEPTION
    WHEN OTHERS
    THEN
        -- Consider logging the error and then re-raise
        RAISE;
END at_parameter_t01;
ALTER TRIGGER "CWMS_20"."AT_PARAMETER_T01" ENABLE
 